name: Create ebuild
on:
  workflow_dispatch:
  push:
    branches: feature/*/*
jobs:
  genebuild:
    runs-on: ubuntu-latest
    steps:
       # synchronys my own git
       - name: Checkout code
         uses: actions/checkout@v5         
       - name: Get branch
         run: |
           full_package=${GITHUB_REF#refs/heads/feature/}
           category=$( echo $full_package | cut -d/ -f1 )
           package=$( echo $full_package | cut -d/ -f2 | sed 's/-[0-9].*//' )
           version=$( echo $full_package | sed "s/${category}\\/${package}-//" )
           cd ${category}/${package}
           github_src=$( grep 'type="github"' metadata.xml | cut -d\> -f2 | cut -d\< -f 1 )
           wget https://raw.githubusercontent.com/${github_src}/refs/tags/${version}/pyproject.toml 
